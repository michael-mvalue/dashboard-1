(()=>{var e={};e.id=978,e.ids=[978],e.modules={3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},5385:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>r});let r=(0,s(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"D:\\\\Work\\\\Max Value\\\\dashboard\\\\app\\\\job\\\\page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"D:\\Work\\Max Value\\dashboard\\app\\job\\page.tsx","default")},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},33873:e=>{"use strict";e.exports=require("path")},45330:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>a});var r=s(37413);function a({children:e}){return(0,r.jsx)("section",{className:"flex flex-col items-center justify-center gap-4 py-4",children:e})}},47610:(e,t,s)=>{"use strict";s.d(t,{u:()=>r});var r=function(e){return e.JOB_INIT="job_init",e.JOB_FETCH_NEW="job_fetch_new",e.JOB_UPDATE="job_update",e.WORKER_INIT="worker_init",e.WORKER_FETCH_NEW="worker_new_fetch",e.WORKER_UPDATE="worker_update",e}({})},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},69700:(e,t,s)=>{Promise.resolve().then(s.bind(s,91208))},78335:()=>{},82021:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>i.a,__next_app__:()=>u,pages:()=>c,routeModule:()=>p,tree:()=>d});var r=s(65239),a=s(48088),n=s(88170),i=s.n(n),l=s(30893),o={};for(let e in l)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>l[e]);s.d(t,o);let d={children:["",{children:["job",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,5385)),"D:\\Work\\Max Value\\dashboard\\app\\job\\page.tsx"]}]},{layout:[()=>Promise.resolve().then(s.bind(s,45330)),"D:\\Work\\Max Value\\dashboard\\app\\job\\layout.tsx"]}]},{layout:[()=>Promise.resolve().then(s.bind(s,58943)),"D:\\Work\\Max Value\\dashboard\\app\\layout.tsx"],error:[()=>Promise.resolve().then(s.bind(s,52608)),"D:\\Work\\Max Value\\dashboard\\app\\error.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,57398,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(s.t.bind(s,89999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(s.t.bind(s,65284,23)),"next/dist/client/components/unauthorized-error"]}]}.children,c=["D:\\Work\\Max Value\\dashboard\\app\\job\\page.tsx"],u={require:s,loadChunk:()=>Promise.resolve()},p=new r.AppPageRouteModule({definition:{kind:a.RouteKind.APP_PAGE,page:"/job/page",pathname:"/job",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},88260:(e,t,s)=>{Promise.resolve().then(s.bind(s,5385))},91208:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>R});var r=s(60687),a=s(85668),n=s.n(a),i=s(43210),l=s(59172),o=s(66272),d=s(67983),c=s(17976),u=s(96951),p=s(93239),h=s(96697),x=s(98522),m=s(44072),j=s(63042),f=s(73391),g=s(57289),_=s(666),b=s(83379),v=s(79520),w=s(1769),k=s(20063),y=s(98699),C=s(56205),P=s(23877),D=s(10218),N=s(96241);function M({status:e}){let{resolvedTheme:t}=(0,D.D)();return(0,r.jsx)("span",{className:"flex justify-center items-center",children:"running"===e?(0,r.jsx)(C.R,{className:"gap-1 text-white",color:"secondary",startContent:(0,r.jsx)(y.o,{color:"secondary",size:"sm",variant:"gradient"}),variant:"flat",children:(0,r.jsx)("span",{className:"text-violet-600",children:(0,N.b)(e)})}):"done"===e?(0,r.jsx)(C.R,{className:"gap-1 text-white",color:"success",startContent:(0,r.jsx)(P.A7C,{size:18}),variant:"dark"===t?"flat":"solid",children:(0,N.b)(e)}):(0,r.jsx)(C.R,{className:"gap-1",variant:"flat",children:(0,N.b)(e)})})}s(47610),s(93103).oO.wsBaseURL;let S=[{key:5,label:"5"},{key:10,label:"10"},{key:20,label:"20"},{key:50,label:"50"}];function R(){let[e,t]=(0,i.useState)(!0),[s,a]=(0,i.useState)([]),[y,C]=(0,i.useState)(1),[P,D]=(0,i.useState)(0),[N,R]=(0,i.useState)(5),[E,A]=(0,i.useState)(!1),[T,Y]=(0,i.useState)(""),[W,z]=(0,i.useState)(!1),[O,q]=(0,i.useState)([]),[I,L]=(0,i.useState)(""),[V,B]=(0,i.useState)({column:"worker_id",direction:"ascending"});(0,i.useRef)(null);let J=(0,i.useMemo)(()=>{let{column:e,direction:t}=V;return Array.isArray(s)&&null!==s?[...s].sort((s,r)=>{let a=s[e],n=r[e];if(null==a)return"ascending"===t?1:-1;if(null==n)return"ascending"===t?-1:1;let i="string"==typeof a?a.toLowerCase():a,l="string"==typeof n?n.toLowerCase():n;return i<l?"ascending"===t?-1:1:i>l?"ascending"===t?1:-1:0}):[]},[s,V]),K=e=>{R(parseInt(e))},U=(e,t)=>{A(!0),L(t),Y(e)},G=e=>{z(!0),q(e)},F=(0,i.useCallback)((e,t)=>{switch(t){case"file_content":return(0,r.jsx)(l.T,{color:"primary",size:"sm",variant:"flat",onPress:()=>U(e.s3_key.split("_").slice(1).join("_"),e.file_content??""),children:e.s3_key.split("_").slice(1).join("_")});case"worker_id":return(0,r.jsx)("div",{children:e.worker_id});case"status":return(0,r.jsx)(M,{status:e.status});case"logs":return(0,r.jsx)(l.T,{size:"sm",variant:"flat",onPress:()=>G(e.logs),children:"Logs"});case"result":return(0,r.jsx)(r.Fragment,{children:e.result&&(0,r.jsx)(l.T,{color:"success",size:"sm",variant:"flat",children:"Result"})});case"duration":if("done"!==e.status)return"-";let s=new Date(e.timestamps?.assigned_at??0),a=new Date(e.timestamps?.completed_at??0).getTime()-s.getTime();if(isNaN(a)||a<0)return"-";let i=Math.floor(a/1e3),d=Math.floor(i/60);return`${d}m ${i%60}s`;case"timestamps.created_at":return(0,r.jsx)("div",{children:n()(e?.timestamps?.created_at).format("MM/DD/YYYY hh:mm:ss A")});case"timestamps.assigned_at":return(0,r.jsx)("div",{children:e?.timestamps?.assigned_at!==null&&n()(e?.timestamps?.assigned_at).format("MM/DD/YYYY hh:mm:ss A")});case"timestamps.completed_at":return(0,r.jsx)("div",{children:e?.timestamps?.completed_at!==null&&n()(e?.timestamps?.completed_at).format("MM/DD/YYYY hh:mm:ss A")});default:return(0,o.fm)(e,t)}},[]);return(0,r.jsxs)("div",{className:"flex flex-col gap-4",children:[(0,r.jsx)("h1",{className:(0,k.D)(),children:"Job"}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2 min-w-[160px]",children:[(0,r.jsx)("div",{children:"Limit:"}),(0,r.jsx)(d.d,{"aria-label":"Page Size",defaultSelectedKeys:["10"],label:"",onChange:({target:{value:e}})=>K(e),children:S.map(e=>(0,r.jsx)(c.y,{children:e.label},e.key))})]}),(0,r.jsx)(u.T,{showControls:!0,initialPage:1,page:y,total:P,onChange:e=>{C(e)}})]}),(0,r.jsxs)(p.j,{"aria-label":"Jobs table",bottomContent:P>0?(0,r.jsx)("div",{className:"flex w-full justify-center",children:(0,r.jsx)(u.T,{isCompact:!0,showControls:!0,showShadow:!0,color:"primary",page:y,total:P,onChange:e=>C(e)})}):null,sortDescriptor:V,onSortChange:B,children:[(0,r.jsxs)(h.X,{children:[(0,r.jsx)(x.e,{children:"UPI Content"},"file_content"),(0,r.jsx)(x.e,{allowsSorting:!0,children:"Worker"},"worker_id"),(0,r.jsx)(x.e,{allowsSorting:!0,children:"Status"},"status"),(0,r.jsx)(x.e,{children:"Logs"},"logs"),(0,r.jsx)(x.e,{children:"Result"},"result"),(0,r.jsx)(x.e,{children:"Duration"},"duration"),(0,r.jsx)(x.e,{children:"created_at"},"timestamps.created_at"),(0,r.jsx)(x.e,{children:"assigned_at"},"timestamps.assigned_at"),(0,r.jsx)(x.e,{children:"completed_at"},"timestamps.completed_at")]}),(0,r.jsx)(m.E,{items:J??[],loadingContent:(0,r.jsx)(j.o,{}),loadingState:e?"loading":"idle",children:e=>(0,r.jsx)(f.s,{children:t=>(0,r.jsx)(g.w,{children:F(e,t)})},e.job_id)})]}),(0,r.jsx)(_.Y,{backdrop:"blur",isOpen:E,scrollBehavior:"inside",size:"5xl",onClose:()=>{A(!1),Y(""),L("")},children:(0,r.jsxs)(b.g,{children:[(0,r.jsx)(v.c,{className:"flex flex-col gap-1",children:T}),(0,r.jsx)(w.h,{children:(0,r.jsx)("div",{className:"whitespace-pre-wrap",children:I})})]})}),(0,r.jsx)(_.Y,{backdrop:"blur",isOpen:W,scrollBehavior:"inside",size:"4xl",onClose:()=>{z(!1),q([])},children:(0,r.jsxs)(b.g,{children:[(0,r.jsx)(v.c,{className:"flex flex-col gap-1",children:"Logs"}),(0,r.jsx)(w.h,{children:(0,r.jsx)("div",{className:"whitespace-pre-wrap",children:O&&O.length>0&&O.map((e,t)=>(0,r.jsx)("div",{children:e},e+t))})})]})})]})}},96241:(e,t,s)=>{"use strict";s.d(t,{b:()=>r});let r=e=>e?e.charAt(0).toUpperCase()+e.slice(1):""},96487:()=>{}};var t=require("../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[126,571,687,51,451,445],()=>s(82021));module.exports=r})();