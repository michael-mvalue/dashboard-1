(()=>{var e={};e.id=974,e.ids=[974],e.modules={3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},21255:(e,t,s)=>{Promise.resolve().then(s.bind(s,90597))},26527:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>n});var r=s(60687),a=s(91208),l=s(97799);function n(){return(0,r.jsxs)("section",{className:"h-full w-full flex flex-col lg:flex-row gap-4 pt-8",children:[(0,r.jsx)("div",{className:"flex w-full lg:w-3/4 flex-col",children:(0,r.jsx)(a.default,{})}),(0,r.jsx)("div",{className:"w-full lg:w-1/4 flex flex-col",children:(0,r.jsx)(l.default,{})})]})}},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},33873:e=>{"use strict";e.exports=require("path")},35167:(e,t,s)=>{Promise.resolve().then(s.bind(s,26527))},35933:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>n.a,__next_app__:()=>u,pages:()=>c,routeModule:()=>x,tree:()=>d});var r=s(65239),a=s(48088),l=s(88170),n=s.n(l),i=s(30893),o={};for(let e in i)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>i[e]);s.d(t,o);let d=["",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,90597)),"D:\\Work\\Max Value\\dashboard\\app\\page.tsx"]}]},{layout:[()=>Promise.resolve().then(s.bind(s,58943)),"D:\\Work\\Max Value\\dashboard\\app\\layout.tsx"],error:[()=>Promise.resolve().then(s.bind(s,52608)),"D:\\Work\\Max Value\\dashboard\\app\\error.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,57398,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(s.t.bind(s,89999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(s.t.bind(s,65284,23)),"next/dist/client/components/unauthorized-error"]}],c=["D:\\Work\\Max Value\\dashboard\\app\\page.tsx"],u={require:s,loadChunk:()=>Promise.resolve()},x=new r.AppPageRouteModule({definition:{kind:a.RouteKind.APP_PAGE,page:"/page",pathname:"/",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},47610:(e,t,s)=>{"use strict";s.d(t,{u:()=>r});var r=function(e){return e.JOB_INIT="job_init",e.JOB_FETCH_NEW="job_fetch_new",e.JOB_UPDATE="job_update",e.WORKER_INIT="worker_init",e.WORKER_FETCH_NEW="worker_new_fetch",e.WORKER_UPDATE="worker_update",e}({})},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},90597:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>r});let r=(0,s(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"D:\\\\Work\\\\Max Value\\\\dashboard\\\\app\\\\page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"D:\\Work\\Max Value\\dashboard\\app\\page.tsx","default")},91208:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>M});var r=s(60687),a=s(85668),l=s.n(a),n=s(43210),i=s(59172),o=s(66272),d=s(67983),c=s(17976),u=s(96951),x=s(93239),h=s(96697),p=s(98522),m=s(44072),f=s(63042),j=s(73391),g=s(57289),b=s(666),_=s(83379),w=s(79520),v=s(1769),k=s(20063),y=s(98699),C=s(56205),S=s(23877),N=s(10218),P=s(96241);function D({status:e}){let{resolvedTheme:t}=(0,N.D)();return(0,r.jsx)("span",{className:"flex justify-center items-center",children:"running"===e?(0,r.jsx)(C.R,{className:"gap-1 text-white",color:"secondary",startContent:(0,r.jsx)(y.o,{color:"secondary",size:"sm",variant:"gradient"}),variant:"flat",children:(0,r.jsx)("span",{className:"text-violet-600",children:(0,P.b)(e)})}):"done"===e?(0,r.jsx)(C.R,{className:"gap-1 text-white",color:"success",startContent:(0,r.jsx)(S.A7C,{size:18}),variant:"dark"===t?"flat":"solid",children:(0,P.b)(e)}):(0,r.jsx)(C.R,{className:"gap-1",variant:"flat",children:(0,P.b)(e)})})}s(47610),s(93103).oO.wsBaseURL;let R=[{key:5,label:"5"},{key:10,label:"10"},{key:20,label:"20"},{key:50,label:"50"}];function M(){let[e,t]=(0,n.useState)(!0),[s,a]=(0,n.useState)([]),[y,C]=(0,n.useState)(1),[S,N]=(0,n.useState)(0),[P,M]=(0,n.useState)(5),[A,E]=(0,n.useState)(!1),[T,W]=(0,n.useState)(""),[Y,L]=(0,n.useState)(!1),[z,O]=(0,n.useState)([]),[I,q]=(0,n.useState)(""),[B,J]=(0,n.useState)({column:"worker_id",direction:"ascending"});(0,n.useRef)(null);let K=(0,n.useMemo)(()=>{let{column:e,direction:t}=B;return Array.isArray(s)&&null!==s?[...s].sort((s,r)=>{let a=s[e],l=r[e];if(null==a)return"ascending"===t?1:-1;if(null==l)return"ascending"===t?-1:1;let n="string"==typeof a?a.toLowerCase():a,i="string"==typeof l?l.toLowerCase():l;return n<i?"ascending"===t?-1:1:n>i?"ascending"===t?1:-1:0}):[]},[s,B]),U=e=>{M(parseInt(e))},V=(e,t)=>{E(!0),q(t),W(e)},G=e=>{L(!0),O(e)},F=(0,n.useCallback)((e,t)=>{switch(t){case"file_content":return(0,r.jsx)(i.T,{color:"primary",size:"sm",variant:"flat",onPress:()=>V(e.s3_key.split("_").slice(1).join("_"),e.file_content??""),children:e.s3_key.split("_").slice(1).join("_")});case"worker_id":return(0,r.jsx)("div",{children:e.worker_id});case"status":return(0,r.jsx)(D,{status:e.status});case"logs":return(0,r.jsx)(i.T,{size:"sm",variant:"flat",onPress:()=>G(e.logs),children:"Logs"});case"result":return(0,r.jsx)(r.Fragment,{children:e.result&&(0,r.jsx)(i.T,{color:"success",size:"sm",variant:"flat",children:"Result"})});case"duration":if("done"!==e.status)return"-";let s=new Date(e.timestamps?.assigned_at??0),a=new Date(e.timestamps?.completed_at??0).getTime()-s.getTime();if(isNaN(a)||a<0)return"-";let n=Math.floor(a/1e3),d=Math.floor(n/60);return`${d}m ${n%60}s`;case"timestamps.created_at":return(0,r.jsx)("div",{children:l()(e?.timestamps?.created_at).format("MM/DD/YYYY hh:mm:ss A")});case"timestamps.assigned_at":return(0,r.jsx)("div",{children:e?.timestamps?.assigned_at!==null&&l()(e?.timestamps?.assigned_at).format("MM/DD/YYYY hh:mm:ss A")});case"timestamps.completed_at":return(0,r.jsx)("div",{children:e?.timestamps?.completed_at!==null&&l()(e?.timestamps?.completed_at).format("MM/DD/YYYY hh:mm:ss A")});default:return(0,o.fm)(e,t)}},[]);return(0,r.jsxs)("div",{className:"flex flex-col gap-4",children:[(0,r.jsx)("h1",{className:(0,k.D)(),children:"Job"}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2 min-w-[160px]",children:[(0,r.jsx)("div",{children:"Limit:"}),(0,r.jsx)(d.d,{"aria-label":"Page Size",defaultSelectedKeys:["10"],label:"",onChange:({target:{value:e}})=>U(e),children:R.map(e=>(0,r.jsx)(c.y,{children:e.label},e.key))})]}),(0,r.jsx)(u.T,{showControls:!0,initialPage:1,page:y,total:S,onChange:e=>{C(e)}})]}),(0,r.jsxs)(x.j,{"aria-label":"Jobs table",bottomContent:S>0?(0,r.jsx)("div",{className:"flex w-full justify-center",children:(0,r.jsx)(u.T,{isCompact:!0,showControls:!0,showShadow:!0,color:"primary",page:y,total:S,onChange:e=>C(e)})}):null,sortDescriptor:B,onSortChange:J,children:[(0,r.jsxs)(h.X,{children:[(0,r.jsx)(p.e,{children:"UPI Content"},"file_content"),(0,r.jsx)(p.e,{allowsSorting:!0,children:"Worker"},"worker_id"),(0,r.jsx)(p.e,{allowsSorting:!0,children:"Status"},"status"),(0,r.jsx)(p.e,{children:"Logs"},"logs"),(0,r.jsx)(p.e,{children:"Result"},"result"),(0,r.jsx)(p.e,{children:"Duration"},"duration"),(0,r.jsx)(p.e,{children:"created_at"},"timestamps.created_at"),(0,r.jsx)(p.e,{children:"assigned_at"},"timestamps.assigned_at"),(0,r.jsx)(p.e,{children:"completed_at"},"timestamps.completed_at")]}),(0,r.jsx)(m.E,{items:K??[],loadingContent:(0,r.jsx)(f.o,{}),loadingState:e?"loading":"idle",children:e=>(0,r.jsx)(j.s,{children:t=>(0,r.jsx)(g.w,{children:F(e,t)})},e.job_id)})]}),(0,r.jsx)(b.Y,{backdrop:"blur",isOpen:A,scrollBehavior:"inside",size:"5xl",onClose:()=>{E(!1),W(""),q("")},children:(0,r.jsxs)(_.g,{children:[(0,r.jsx)(w.c,{className:"flex flex-col gap-1",children:T}),(0,r.jsx)(v.h,{children:(0,r.jsx)("div",{className:"whitespace-pre-wrap",children:I})})]})}),(0,r.jsx)(b.Y,{backdrop:"blur",isOpen:Y,scrollBehavior:"inside",size:"4xl",onClose:()=>{L(!1),O([])},children:(0,r.jsxs)(_.g,{children:[(0,r.jsx)(w.c,{className:"flex flex-col gap-1",children:"Logs"}),(0,r.jsx)(v.h,{children:(0,r.jsx)("div",{className:"whitespace-pre-wrap",children:z&&z.length>0&&z.map((e,t)=>(0,r.jsx)("div",{children:e},e+t))})})]})})]})}},96241:(e,t,s)=>{"use strict";s.d(t,{b:()=>r});let r=e=>e?e.charAt(0).toUpperCase()+e.slice(1):""},97799:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>y});var r=s(60687),a=s(85668),l=s.n(a),n=s(43210),i=s(66272),o=s(67983),d=s(17976),c=s(96951),u=s(93239),x=s(96697),h=s(98522),p=s(44072),m=s(63042),f=s(73391),j=s(57289),g=s(20063),b=s(56205),_=s(10218),w=s(96241);function v({value:e}){let{resolvedTheme:t}=(0,_.D)(),s="dark"===t?"flat":"solid";return(0,r.jsx)("span",{className:"flex justify-center items-center",children:"idle"===e?(0,r.jsx)(b.R,{className:"gap-1 text-white",color:"success",variant:s,children:(0,w.b)(e)}):"busy"===e?(0,r.jsx)(b.R,{className:"gap-1 text-white",color:"danger",variant:"shadow",children:(0,w.b)(e)}):(0,r.jsx)(b.R,{className:"gap-1 text-white",variant:s,children:(0,w.b)(e)})})}s(47610),s(93103).oO.wsBaseURL;let k=[{key:10,label:"10"},{key:20,label:"20"},{key:50,label:"50"},{key:100,label:"100"}];function y(){let[e,t]=(0,n.useState)(!0),[s,a]=(0,n.useState)([]),[b,_]=(0,n.useState)(1),[w,y]=(0,n.useState)(0),[C,S]=(0,n.useState)(5),[N,P]=(0,n.useState)({column:"worker_id",direction:"ascending"});(0,n.useRef)(null);let D=(0,n.useMemo)(()=>{let{column:e,direction:t}=N;return Array.isArray(s)&&null!==s?[...s].sort((s,r)=>{let a=s[e],l=r[e];if(null==a)return"ascending"===t?1:-1;if(null==l)return"ascending"===t?-1:1;let n="string"==typeof a?a.toLowerCase():a,i="string"==typeof l?l.toLowerCase():l;return n<i?"ascending"===t?-1:1:n>i?"ascending"===t?1:-1:0}):[]},[s,N]),R=e=>{S(parseInt(e))},M=(0,n.useCallback)((e,t)=>{switch(t){case"status":return(0,r.jsx)(v,{value:e.status});case"last_heartbeat":return(0,r.jsx)("div",{children:l()(e.last_heartbeat).format("hh:mm:ss A")});default:return(0,i.fm)(e,t)}},[]);return(0,r.jsxs)("div",{className:"flex flex-col gap-4",children:[(0,r.jsx)("h1",{className:(0,g.D)(),children:"Worker"}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2 min-w-[160px]",children:[(0,r.jsx)("div",{children:"Limit:"}),(0,r.jsx)(o.d,{"aria-label":"Page Size",defaultSelectedKeys:["10"],label:"",onChange:({target:{value:e}})=>R(e),children:k.map(e=>(0,r.jsx)(d.y,{children:e.label},e.key))})]}),(0,r.jsx)(c.T,{showControls:!0,initialPage:1,page:b,total:w,onChange:e=>{_(e)}})]}),(0,r.jsxs)(u.j,{"aria-label":"Jobs table",bottomContent:w>0?(0,r.jsx)("div",{className:"flex w-full justify-center",children:(0,r.jsx)(c.T,{isCompact:!0,showControls:!0,showShadow:!0,color:"primary",page:b,total:w,onChange:e=>_(e)})}):null,sortDescriptor:N,onSortChange:P,children:[(0,r.jsxs)(x.X,{children:[(0,r.jsx)(h.e,{allowsSorting:!0,children:"Worker ID"},"worker_id"),(0,r.jsx)(h.e,{allowsSorting:!0,children:"Worker Status"},"status"),(0,r.jsx)(h.e,{allowsSorting:!0,children:"Last Heartbeat"},"last_heartbeat")]}),(0,r.jsx)(p.E,{items:D??[],loadingContent:(0,r.jsx)(m.o,{}),loadingState:e?"loading":"idle",children:e=>(0,r.jsx)(f.s,{children:t=>(0,r.jsx)(j.w,{children:M(e,t)})},e.worker_id)})]})]})}}};var t=require("../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[126,571,687,51,451,445],()=>s(35933));module.exports=r})();