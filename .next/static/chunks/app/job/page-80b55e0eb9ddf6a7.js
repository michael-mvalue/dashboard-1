(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[978],{3838:(e,t,a)=>{"use strict";a.d(t,{A:()=>i});var l=a(5155),r=a(3071),s=a(9167),o=a(9911),n=a(1362);function i(e){let{value:t}=e,{resolvedTheme:a}=(0,n.D)(),i="dark"===a?"flat":"solid";return(0,l.jsx)("span",{className:"flex justify-center items-center",children:"running"===t?(0,l.jsx)(s.R,{className:"gap-1 text-white",color:"secondary",startContent:(0,l.jsx)(r.o,{color:"secondary",size:"sm",variant:"gradient"}),variant:i,children:(0,l.jsx)("span",{children:t})}):"completed"===t?(0,l.jsx)(s.R,{className:"gap-1 text-white",color:"success",startContent:(0,l.jsx)(o.A7C,{size:18}),variant:i,children:t}):(0,l.jsx)(s.R,{className:"gap-1",variant:"flat",children:t})})}},4648:(e,t,a)=>{"use strict";a.d(t,{A:()=>i});var l=a(5155),r=a(1362),s=a(7035),o=a(5388),n=a(2115);o.syG.registerModules([o.JKr]);let i=e=>{let{rowData:t,columnDefs:a}=e,{resolvedTheme:i}=(0,r.D)(),d=(0,n.useMemo)(()=>({cellStyle:{display:"flex",alignItems:"center"}}),[]),c="dark"===i?o.zl0.withPart(o.T8J):o.zl0.withPart(o.vXQ);return(0,l.jsx)("div",{className:"w-full h-screen ag-theme-quartz",children:(0,l.jsx)(s.W6,{columnDefs:a,defaultColDef:d,domLayout:"autoHeight",rowData:t,rowHeight:50,theme:c})})}},5753:(e,t,a)=>{"use strict";a.d(t,{D:()=>r});var l=a(7635);let r=(0,l.tv)({base:"tracking-tight inline font-semibold",variants:{color:{violet:"from-[#FF1CF7] to-[#b249f8]",yellow:"from-[#FF705B] to-[#FFB457]",blue:"from-[#5EA2EF] to-[#0072F5]",cyan:"from-[#00b7fa] to-[#01cfea]",green:"from-[#6FEE8D] to-[#17c964]",pink:"from-[#FF72E1] to-[#F54C7A]",foreground:"dark:from-[#FFFFFF] dark:to-[#4B4B4B]"},size:{xs:"text-base lg:text-lg",sm:"text-3xl lg:text-4xl",md:"text-[2.3rem] lg:text-5xl leading-9",lg:"text-4xl lg:text-6xl"},fullWidth:{true:"w-full block"}},defaultVariants:{size:"md"},compoundVariants:[{color:["violet","yellow","blue","cyan","green","pink","foreground"],class:"bg-clip-text text-transparent bg-gradient-to-b"}]});(0,l.tv)({base:"w-full md:w-1/2 my-2 text-lg lg:text-xl text-default-600 block max-w-full",variants:{fullWidth:{true:"!w-full"}},defaultVariants:{fullWidth:!0}})},6693:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>c});var l=a(5155),r=a(2115),s=a(832),o=a.n(s),n=a(4648),i=a(5753),d=a(3838);function c(){let[e,t]=(0,r.useState)([]);(0,r.useEffect)(()=>{let e=new WebSocket("ws://localhost:9000/ws/job");return e.onopen=()=>console.log("âœ… WebSocket connected"),e.onmessage=e=>{try{let a=JSON.parse(e.data);t(a)}catch(e){console.error("Failed to parse message",e)}},e.onerror=e=>console.error("WebSocket error:",e),e.onclose=()=>console.warn("WebSocket connection closed"),()=>e.close()},[]);let a=(0,r.useMemo)(()=>[{field:"s3_key",headerName:"Key",flex:1},{field:"status",headerName:"Status",minWidth:150,maxWidth:150,cellRenderer:d.A},{field:"worker_id",headerName:"Worker ID",width:120},{headerName:"Duration",minWidth:100,maxWidth:100,valueGetter:e=>{var t,a,l;let{status:r,timestamps:s}=null!=(t=e.data)?t:{};if("completed"!==r)return null;let o=new Date(null!=(a=null==s?void 0:s.assigned_at)?a:0),n=new Date(null!=(l=null==s?void 0:s.completed_at)?l:0).getTime()-o.getTime();if(isNaN(n)||n<0)return null;let i=Math.floor(n/1e3),d=Math.floor(i/60);return"".concat(d,"m ").concat(i%60,"s")}},{headerName:"Timestamps",resizable:!1,children:[{headerName:"Date",width:110,resizable:!1,valueGetter:e=>{var t;let{timestamps:a}=null!=(t=e.data)?t:{};if((null==a?void 0:a.created_at)!==null)return o()(null==a?void 0:a.created_at).format("MM/DD/YYYY")}},{headerName:"Created At",field:"timestamps.created_at",resizable:!1,valueGetter:e=>{var t,a;return o()(null==(a=e.data)||null==(t=a.timestamps)?void 0:t.created_at).format("hh:mm:ss A")},width:110},{headerName:"Assigned At",field:"timestamps.assigned_at",resizable:!1,valueGetter:e=>{var t,a;return o()(null==(a=e.data)||null==(t=a.timestamps)?void 0:t.assigned_at).format("hh:mm:ss A")},width:110},{headerName:"Completed At",field:"timestamps.completed_at",resizable:!1,valueGetter:e=>{var t,a;return o()(null==(a=e.data)||null==(t=a.timestamps)?void 0:t.completed_at).format("hh:mm:ss A")},width:120}]}],[]);return(0,l.jsxs)("div",{className:"flex flex-col gap-4 w-full",children:[(0,l.jsx)("h1",{className:(0,i.D)(),children:"Job"}),(0,l.jsx)(n.A,{columnDefs:a,rowData:e})]})}},6713:(e,t,a)=>{Promise.resolve().then(a.bind(a,6693))}},e=>{var t=t=>e(e.s=t);e.O(0,[266,711,816,961,522,441,684,358],()=>t(6713)),_N_E=e.O()}]);