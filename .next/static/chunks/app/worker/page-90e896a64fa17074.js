(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[837],{2241:(e,t,l)=>{"use strict";l.d(t,{A:()=>s});var r=l(5155),a=l(9581),o=l(1362);function s(e){let{value:t}=e,{resolvedTheme:l}=(0,o.D)(),s="dark"===l?"flat":"solid";return(0,r.jsx)("span",{className:"flex justify-center items-center",children:"idle"===t?(0,r.jsx)(a.R,{className:"gap-1 text-white",color:"success",variant:s,children:t}):(0,r.jsx)(a.R,{className:"gap-1 text-white",color:"danger",variant:s,children:t})})}},4648:(e,t,l)=>{"use strict";l.d(t,{A:()=>i});var r=l(5155),a=l(1362),o=l(7035),s=l(5388),n=l(2115);s.syG.registerModules([s.JKr]);let i=e=>{let{rowData:t,columnDefs:l}=e,{resolvedTheme:i}=(0,a.D)(),c=(0,n.useMemo)(()=>({cellStyle:{display:"flex",alignItems:"center"}}),[]),d="dark"===i?s.zl0.withPart(s.T8J):s.zl0.withPart(s.vXQ);return(0,r.jsx)("div",{className:"w-full h-screen ag-theme-quartz",children:(0,r.jsx)(o.W6,{columnDefs:l,defaultColDef:c,domLayout:"autoHeight",rowData:t,rowHeight:50,theme:d})})}},5753:(e,t,l)=>{"use strict";l.d(t,{D:()=>a});var r=l(7635);let a=(0,r.tv)({base:"tracking-tight inline font-semibold",variants:{color:{violet:"from-[#FF1CF7] to-[#b249f8]",yellow:"from-[#FF705B] to-[#FFB457]",blue:"from-[#5EA2EF] to-[#0072F5]",cyan:"from-[#00b7fa] to-[#01cfea]",green:"from-[#6FEE8D] to-[#17c964]",pink:"from-[#FF72E1] to-[#F54C7A]",foreground:"dark:from-[#FFFFFF] dark:to-[#4B4B4B]"},size:{xs:"text-base lg:text-lg",sm:"text-3xl lg:text-4xl",md:"text-[2.3rem] lg:text-5xl leading-9",lg:"text-4xl lg:text-6xl"},fullWidth:{true:"w-full block"}},defaultVariants:{size:"md"},compoundVariants:[{color:["violet","yellow","blue","cyan","green","pink","foreground"],class:"bg-clip-text text-transparent bg-gradient-to-b"}]});(0,r.tv)({base:"w-full md:w-1/2 my-2 text-lg lg:text-xl text-default-600 block max-w-full",variants:{fullWidth:{true:"!w-full"}},defaultVariants:{fullWidth:!0}})},8673:(e,t,l)=>{Promise.resolve().then(l.bind(l,9696))},9696:(e,t,l)=>{"use strict";l.r(t),l.d(t,{default:()=>d});var r=l(5155),a=l(2115),o=l(832),s=l.n(o),n=l(4648),i=l(5753),c=l(2241);function d(){let[e,t]=(0,a.useState)([]);(0,a.useEffect)(()=>{let e=new WebSocket("ws://localhost:9000/ws/worker");return e.onopen=()=>console.log("âœ… WebSocket connected"),e.onmessage=e=>{try{let l=JSON.parse(e.data);t(l)}catch(e){console.error("Failed to parse message",e)}},e.onerror=e=>console.error("WebSocket error:",e),e.onclose=()=>console.warn("WebSocket connection closed"),()=>e.close()},[]);let l=(0,a.useMemo)(()=>[{field:"worker_id",headerName:"Worker ID",flex:1},{field:"status",headerName:"Status",minWidth:150,maxWidth:150,cellRenderer:c.A},{headerName:"Last Heartbeat",field:"last_heartbeat",minWidth:130,maxWidth:130,valueGetter:e=>{var t;let{last_heartbeat:l}=null!=(t=e.data)?t:{};return s()(l).format("YYYY-MM-DD")}}],[]);return(0,r.jsxs)("div",{className:"flex flex-col gap-4 w-full",children:[(0,r.jsx)("h1",{className:(0,i.D)(),children:"Worker"}),(0,r.jsx)(n.A,{columnDefs:l,rowData:e})]})}}},e=>{var t=t=>e(e.s=t);e.O(0,[266,53,499,480,441,684,358],()=>t(8673)),_N_E=e.O()}]);